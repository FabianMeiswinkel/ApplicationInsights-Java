apply plugin: "java-library"
apply plugin: "application"

// TODO (trask) is this needed?
repositories {
    mavenCentral()
}

dependencies {
    // this is an api dependency because of MockedAppInsightsIngestionServer.waitForItems(Predicate)
    api "com.google.guava:guava:${versions.guava}"

    implementation "junit:junit:${versions.junit}"
    implementation "org.eclipse.jetty.aggregate:jetty-all:9.4.39.v20210325"
    implementation "com.google.code.gson:gson:${versions.gson}"
    implementation project(":test:fakeIngestion:servlet")
    implementation project(":test:smoke:framework:utils")
}

mainClassName = "com.microsoft.applicationinsights.test.fakeingestion.MockedAppInsightsIngestionServer"

tasks.withType(JavaCompile) {
    options.release.set(8)
}
